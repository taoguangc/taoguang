---
title: '如何在 Next.js 中使用 Lenis 平滑滚动'
description: 'Lenis 是一个新的平滑滚动库，体积很小，它允许您在页面中平滑滚动。'
date: '2023-05-01T12:00:00'
author: 'Taoguang'
authorUrl: 'https://example.com/'
---

Lenis 是一个新的平滑滚动库，体积很小，它允许您在页面中平滑滚动。对于 React 应用程序，他提供了一个 react-lenis 包，它允许您在 React 应用程序中使用 Lenis。
react-lenis 提供了一个 ReactLenis 组件，用于创建 Lenis 实例，并通过上下文将其提供给其子实例。这允许您在 React 应用程序中使用 Lenis，而不必担心通过 props 传递实例。它还提供了一个 useLenis 钩子，允许您从应用程序中的任何组件访问 Lenis 实例。

安装：

```npm
npm i @studio-freight/react-lenis
```

用法：

```
import { ReactLenis, useLenis } from '@studio-freight/react-lenis'

function Layout() {
  const lenis = useLenis(({ scroll }) => {
    // called every scroll
  })

  return (
    <ReactLenis root>
      { /* content */ }
    </ReactLenis>
  )
}
```

创建一个 Lenis 组件，可以在 options 中写入更多的选项，具体可参考 Lenis 文档。

```
'use client'
import { ReactLenis } from '@studio-freight/react-lenis'

export default function Lenis({ children }: { children: React.ReactNode }) {
  return (
    <ReactLenis root options={{ duration: 1 }}>
      {children}
    </ReactLenis>
  )
}
```

实际用在 Next.js 中，在 app/layout.tsx 中，导入 Lenis 组件，并将 body 用 &lt;Lenis&gt;&lt;/Lenis&gt; 包裹起来，这样就可以在页面中平滑滚动。

```
import Lenis from '@/components/Lenis'

export const metadata: Metadata = {
  title: 'Create Next App',
  description: 'Generated by create next app'
}

export default function RootLayout({ children }: { children: React.ReactNode }) {
  return (
    <html lang='en'>
      <Lenis>
        <body className={inter.className}>{children}</body>
      </Lenis>
    </html>
  )
}
```

完毕
